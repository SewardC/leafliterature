<!DOCTYPE html>
	<html>
		<head>
			<title>Login Page</title>
			<link rel="shortcut icon" href="img/LeafLit_FavIcon.png" />
			<link rel="stylesheet" type="text/css" href="css/main.css"> 
			<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		</head>
		<body>
			<table width = "100%">
				<tr> 
					<td><br></td>
				</tr>
				<tr> 
						<td><br></td>
				</tr>
				<tr> 
					<td><br></td>
				</tr>
					<tr>
					<tr>
						<td style = "width:15%"></td>

						<td colspan = "2" style = "text-align:center"><img src="img/appIcon.jpg"/ style="border:5px solid #5C755E; border-radius:100px;"></td>

						<td style = "width:15%"></td>

					</tr>
					<tr>
						<td style = "width:40%"></td>
						<td colspan = "2" style = "text-align:center; "><h1 style = "border: 1px solid black; background-color:#98FB98; border-radius: 50px; font-family: 'Playball', cursive; padding-top:20px; padding-bottom:20px;">Login</h1></td>
						<td style = "width:40%"></td>
					</tr>
				<form id="loginForm" method="post">
					<tr>
						<td style = "width:20%"></td>

						<td colspan = "2" style = "text-align:center;">Username: <input type="text" name="username" id="username" required><br></td>
					</tr>
					<tr>
						<td style = "width:20%"></td>

						<td colspan = "2" style = "text-align:center;">Password: <input type="password" name="password" id="password" required></td>
					</tr>
					<tr>
						<td style = "width:20%"></td>

						<td colspan = "2" style = "text-align:center;"><input style="; padding: 5px 30px; float:center; background-color: #EBCA97; box-shadow:none;" type="submit" value="Sign in" [button_action]/></td>

						<td style = "width:20%"></td>
					</tr>
					<tr>
						<td><span><a href="SignUp.html">Sign Up</a></span></td>
					</tr>
				</form>
			</table>
				<script src="http://www.parsecdn.com/js/parse-1.2.12.min.js"></script>
			<script>
				var parseAPPID = "F5n5wBdrrgzuQznoRDr7Ac8dRhs2R68MPvlPiPki";
				var parseJSID = "3ARPcPd7ws047AUajiGiz85uvgFHLbxzv4feLCjo";
				Parse.initialize(parseAPPID, parseJSID);
				$('#loginForm').on('submit', function(e){
					e.preventDefault();
/**
					var data = {};
					data.username = $('#username').val();
					data.password = $('#password').val();
					var user = new Parse.Object.extend("User");
					var query = new Parse.Query(user);
					console.log("1");
					query.equalTo("username", data.username);
					query.equalTo("password", data.password);
					query.find({
						success: function(results){
							for(var i = 0; i < results.length; i++){
								location.href = "HomePage.html";
							}
						},
						error:function(error){
							alert("Error");
							console.log("Can't log in");
						}
					});
*/
					var username = $('#username').val();
					var password = $('#password').val();
					console.log("Username: " + username + " Password: " + password);
			        Parse.User.logIn(username, password, {
			            success: function(user) {
			                window.location.href="HomePage.html";
			                //self.undelegateEvents();
			                //delete self;
			                alert("Success");
			               // return true;
			                },
			            error: function(user, error) {
			                window.location.href="Login_Page.html";
			                alert("Error: " + error.code + " " + error.message + username + password);
			               // return false;
			                }
			        });
					console.log("3");
				});
			</script>
		</body>
	</html>